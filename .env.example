# =============================================================
# Quiz System Environment Template
# Copy this file to `.env` and customise the values as needed.
# setup.bat will also copy the backend section into backend/.env.
# =============================================================

# -------------------------------------------------------------
# Backend (FastAPI)
# -------------------------------------------------------------
# General application metadata
APP_NAME="Quiz System Backend"
APP_VERSION="0.1.0"
DEBUG=false

# Networking configuration
HOST=0.0.0.0
PORT=8000

# Allowed origins for CORS (comma separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080

# ðŸ”‘ Required: OpenAI API key for AI-assisted features
OPENAI_API_KEY=sk-your-openai-key
# Optional: override the default OpenAI model
OPENAI_MODEL=gpt-4

# File storage locations (use absolute paths on Windows if preferred)
STORAGE_ROOT=./backend/storage
UPLOAD_MAX_SIZE=104857600

# Video processing configuration
FFMPEG_THREADS=2
VIDEO_OUTPUT_FORMAT=mp4

# Shared database connection string (used by the backend and Prisma)
# Update the credentials to point to your MySQL instance.
DATABASE_URL=mysql://username:password@localhost:3306/exam_prep
# If you prefer SQLite for local backend development, override DATABASE_URL
# to sqlite:///./backend/storage/app.db inside backend/.env after copying.

# Background job worker settings
WORKER_CONCURRENCY=4
MAX_QUEUE_SIZE=100
JOB_MAX_ATTEMPTS=3
JOB_RETRY_DELAY_SECONDS=5

# Logging configuration
LOG_LEVEL=INFO
LOG_FILE=./backend/logs/app.log

# -------------------------------------------------------------
# React Preview Frontend (Vite)
# -------------------------------------------------------------
# Base URL used by the React preview player to reach the FastAPI API.
VITE_API_URL=http://localhost:8000

# -------------------------------------------------------------
# Media tooling
# -------------------------------------------------------------
# Ensure FFmpeg is available on your PATH. Optionally hard-code the path here.
FFMPEG_PATH=C:\ffmpeg\bin\ffmpeg.exe

# -------------------------------------------------------------
# Notes
# -------------------------------------------------------------
# - setup.bat copies this file to .env and backend/.env if they do not exist.
# - Update OPENAI_API_KEY before launching the backend.
# - DATABASE_URL must be reachable by both the backend and Prisma migrations.
